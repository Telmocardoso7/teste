eBankit=eBankit||{};eBankit.Presentation=eBankit.Presentation||{};eBankit.Presentation.Dashboard=function(){return addLoading=function(n){n&&(n.hide(),n.after("<div class='loading text-center'><img src='"+loading_image+"' alt='loading' /><\/div>"))},removeLoading=function(n){n&&(n.fadeIn(1e3),n.next(".loading").html(""))},triggerPostBack=function(n,t){var i=n.closest(".dashboard-widget-wrapper"),r=i.closest(".dashboard-wrapper").find(".dashboard-trigger"),u={controlId:i.data("widget-id"),path:i.data("widget-path"),p1:i.data("widget-p1"),p2:i.data("widget-p2"),p3:i.data("widget-p3"),params:JSON.stringify(t)};__doPostBack(r.attr("name"),JSON.stringify(u))},loadControl=function(n){if(n.html().length<=0)return addLoading(n),$.ajax({cache:!1,url:"/Security/ControlContainer/ControlContainer.aspx",method:"GET",data:{controlid:n.data("widget-id"),path:n.data("widget-path")}}).done(function(t){var i=$().add(t).find(".controlcontainer").html();n.html(i)}).always(function(){removeLoading(n)})},loadControlMovs=function(n){if(n.html().length<=0)return addLoading(n),$.ajax({cache:!1,url:"/Security/ControlContainer/ControlContainer.aspx",method:"GET",data:{controlid:n.data("widget-account-id"),path:n.data("widget-path"),p1:n.data("widget-p1"),p2:n.data("widget-p2"),p3:n.data("widget-p3")}}).done(function(t){var i=$().add(t).find(".controlcontainer").html();n.html(i)}).always(function(){removeLoading(n)})},loadControlAssoc=function(n){if(n.html().length<=0)return addLoading(n),$.ajax({cache:!1,url:"/Security/ControlContainer/ControlContainer.aspx",method:"GET",data:{controlid:n.data("widget-assoc-id"),path:n.data("widget-path"),p1:n.data("widget-p1"),p2:n.data("widget-p2"),p3:n.data("widget-p3")}}).done(function(t){var i=$().add(t).find(".controlcontainer").html();n.html(i)}).always(function(){removeLoading(n)})},{addLoading:addLoading,removeLoading:removeLoading,triggerPostBack:triggerPostBack,loadControl:loadControl,loadControlMovs:loadControlMovs,loadControlAssoc:loadControlAssoc}}();$(document).ready(function(){$("[data-widget-id]").each(function(){eBankit.Presentation.Dashboard.loadControl($(this))});var n=Sys.WebForms.PageRequestManager.getInstance();n.add_endRequest(function(){$("[data-widget-id]").each(function(){eBankit.Presentation.Dashboard.loadControl($(this))})})});