function monitorDependence(n){var t=!0;return $("input[id*='tbCollateralValue']").length&&$("input[id*='tbCollateralValue']").val()!=undefined&&($("input[id*='tbCollateralValue']").val()!=""&&$("input[id*='tbLoanAmount']").val()!=""?parseCurrency($("input[id*='tbCollateralValue']").val(),numberDecimalSeparator,numberGroupSeparator)>0&&parseCurrency($("input[id*='tbCollateralValue']").val(),numberDecimalSeparator,numberGroupSeparator)<parseCurrency($("input[id*='tbLoanAmount']").val(),numberDecimalSeparator,numberGroupSeparator)?(eBankit.Presentation.InsertValidateMsg(n,top.eBankit.Presentation.GetResource("InvalidValueColateral")),t=!1):(eBankit.Presentation.RemoveValidateMsg(tbCollateralValue),eBankit.Presentation.RemoveValidateMsg(tbLoanAmount)):eBankit.Presentation.RemoveValidateMsg(n)),$("input[id*='tbCollateralValue']").val()==""&&eBankit.Presentation.InsertValidateMsg(n,""),t}var tbCollateralValue=$("input[id*='tbCollateralValue']"),tbLoanAmount=$("input[id*='tbLoanAmount']"),tbBalloonPayment=$("input[id*='tbBalloonPayment']"),tbInitialPayment=$("input[id*='tbInitialPayment']"),hdnmaxBallonVar=$("input[id*='hdnmaxBallonVar']"),hdnmaxInitialVar=$("input[id*='hdnmaxInitialVar']"),jsonObj,prm=Sys.WebForms.PageRequestManager.getInstance();prm.add_endRequest(function(){$("input[id$='hdnSelectedLoanProduct']").val()!=undefined&&(jsonObj=JSON.parse($("input[id$='hdnSelectedLoanProduct']").val()))});$(document).ready(function(){$("input[id$='hdnSelectedLoanProduct']").val()!=undefined&&(jsonObj=JSON.parse($("input[id$='hdnSelectedLoanProduct']").val()));$("#aspnetForm").keypress(function(n){if(n.keyCode=="13"){var t=$("a[id*='btnNextFlowItem']").attr("id"),i=eBankit.Presentation.TRX00514158.ValidateForm(),r=eBankit.Presentation.TRX00154.ValidateCustom();return r&&i&&document.getElementById(t).click(),!1}});$("a[id*='btnNextFlowItem']").click(function(){$("input").blur();$("textarea").blur()})});$(document).on("blur","input[id*='tbLoanAmount']",function(){monitorDependence($(this))&&controlLoanAmountRange(jsonObj.LoanAmountMin,jsonObj.LoanAmountMax)});$(document).on("blur","input[id*='tbCollateralValue']",function(){monitorDependence($(this))});$(document).on("blur","input[id*='tbBalloonPayment']",function(){controlBalloonAmountRange()});$(document).on("blur","input[id*='tbLoanDuration']",function(){controlLoanDuration()});$(document).on("blur","input[id*='tbInterestOnlyPeriod']",function(){controlGracePeriod()});$(document).on("blur","input[id*='tbInitialPayment']",function(){controlInitialPayment()});eBankit.Presentation.TRX00154={};eBankit.Presentation.TRX00154.ValidateCustom=function(){var t=!0,n=$("input[id*='tbCollateralValue']"),r=$("input[id*='tbLoanAmount']"),i;return n.length&&n.val()!=undefined&&(n.val()!=""&&r.val()!=""&&parseCurrency(n.val(),numberDecimalSeparator,numberGroupSeparator)>0?parseCurrency(n.val(),numberDecimalSeparator,numberGroupSeparator)<parseCurrency(r.val(),numberDecimalSeparator,numberGroupSeparator)?(eBankit.Presentation.InsertValidateMsg(n,top.eBankit.Presentation.GetResource("InvalidValueColateral")),t=!1):eBankit.Presentation.RemoveValidateMsg(n):eBankit.Presentation.RemoveValidateMsg(n)),i=JSON.parse($("input[id$='hdnSelectedLoanProduct']").val()),controlLoanAmountRange(i.LoanAmountMin,i.LoanAmountMax)||(t=!1),controlBalloonAmountRange()||(t=!1),controlLoanDuration()||(t=!1),controlGracePeriod()||(t=!1),controlInitialPayment()||(t=!1),t};controlLoanAmountRange=function(n,t){var i=!0;return $("input[id*='tbLoanAmount']").val()!=""?checkIfInRange(n,t,$("input[id*='tbLoanAmount']").val())?eBankit.Presentation.RemoveValidateMsg($("input[id*='tbLoanAmount']")):(eBankit.Presentation.InsertValidateMsg($("input[id*='tbLoanAmount']"),top.eBankit.Presentation.GetResource("InvalidRangeValue").concat(t).concat(top.eBankit.Presentation.GetResource("InvalidRangeValue2")).concat(n)),i=!1):(eBankit.Presentation.RemoveValidateMsg($("input[id*='tbLoanAmount']")),eBankit.Presentation.InsertValidateMsg($("input[id*='tbLoanAmount']"),"")),i};controlBalloonAmountRange=function(){var t=!0,n;if($("[id*='tbBalloonPayment']").length&&hdnmaxBallonVar.length&&(n=$("input[id*='hdnmaxBallonVar']").val(),n.indexOf(".")>-1&&(n=n.replace(".",",")),$("input[id*='tbBalloonPayment']").val()!=""&&n!="")){var r=parseCurrency($("input[id*='tbLoanAmount']").val(),numberDecimalSeparator,numberGroupSeparator),u=parseCurrency(n,numberDecimalSeparator,numberGroupSeparator)/100,i=eval(r*u),f=parseCurrency($("input[id*='tbBalloonPayment']").val(),numberDecimalSeparator,numberGroupSeparator);f>i?(eBankit.Presentation.InsertValidateMsg($("input[id*='tbBalloonPayment']"),top.eBankit.Presentation.GetResource("InvalidBallonValue").concat(i)),t=!1):checkIfInRange(jsonObj.LoanBalloonPaymentFixedMin,jsonObj.LoanBalloonPaymentFixedMax,$("input[id*='tbBalloonPayment']").val())?eBankit.Presentation.RemoveValidateMsg($("input[id*='tbBalloonPayment']")):(eBankit.Presentation.InsertValidateMsg($("input[id*='tbBalloonPayment']"),top.eBankit.Presentation.GetResource("InvalidRangeValue").concat(jsonObj.LoanBalloonPaymentFixedMax).concat(top.eBankit.Presentation.GetResource("InvalidRangeValue2")).concat(jsonObj.LoanBalloonPaymentFixedMin)),t=!1)}return t};controlLoanDuration=function(){var n=!0,t;return $("[id*='tbLoanDuration']").length&&$("[id*='tbLoanDuration']").val()!=undefined&&($("input[id*='tbLoanDuration']").val()!=""?(t=/^[0-9]{1,2}$/,t.test($("input[id*='tbLoanDuration']").val())?(eBankit.Presentation.RemoveValidateMsg($("input[id*='tbLoanDuration']")),checkIfInRange(jsonObj.LoanDurationMin,jsonObj.LoanDurationMax,$("input[id*='tbLoanDuration']").val())?eBankit.Presentation.RemoveValidateMsg($("input[id*='tbLoanDuration']")):(eBankit.Presentation.InsertValidateMsg($("input[id*='tbLoanDuration']"),top.eBankit.Presentation.GetResource("InvalidRangeValue").concat(jsonObj.LoanDurationMin).concat(top.eBankit.Presentation.GetResource("InvalidRangeValue2")).concat(jsonObj.LoanDurationMax)),n=!1)):(eBankit.Presentation.InsertValidateMsg($("input[id*='tbLoanDuration']"),top.eBankit.Presentation.GetResource("InvalidAmout")),n=!1)):(eBankit.Presentation.InsertValidateMsg($("input[id*='tbLoanDuration']"),top.eBankit.Presentation.GetResource("FillData")),n=!1)),n};controlGracePeriod=function(){var n=!0,t;return $("[id*='tbInterestOnlyPeriod']").length&&$("[id*='tbInterestOnlyPeriod']").val()!=undefined&&($("input[id*='tbInterestOnlyPeriod']").val()!=""?(t=/^[0-9]{1,2}$/,t.test($("input[id*='tbInterestOnlyPeriod']").val())?checkIfInRange(jsonObj.LoanGracePeriodMin,jsonObj.LoanGracePeriodMax,$("input[id*='tbInterestOnlyPeriod']").val())?eBankit.Presentation.RemoveValidateMsg($("input[id*='tbInterestOnlyPeriod']")):(eBankit.Presentation.InsertValidateMsg($("input[id*='tbInterestOnlyPeriod']"),top.eBankit.Presentation.GetResource("InvalidRangeValue").concat(jsonObj.LoanGracePeriodMin).concat(top.eBankit.Presentation.GetResource("InvalidRangeValue2")).concat(jsonObj.LoanGracePeriodMax)),n=!1):(eBankit.Presentation.InsertValidateMsg($("input[id*='tbInterestOnlyPeriod']"),top.eBankit.Presentation.GetResource("InvalidAmout")),n=!1)):(eBankit.Presentation.InsertValidateMsg($("input[id*='tbInterestOnlyPeriod']"),top.eBankit.Presentation.GetResource("FillData")),n=!1)),n};controlInitialPayment=function(){var n=!0,t;return $("[id*='tbInitialPayment']").length&&hdnmaxInitialVar.length&&$("input[id*='tbInitialPayment']").val()!=""&&$("input[id*='hdnmaxInitialVar']").val()!=""&&(t=eval(parseCurrency($("input[id*='tbLoanAmount']").val(),numberDecimalSeparator,numberGroupSeparator)*(parseCurrency($("input[id*='hdnmaxInitialVar']").val(),numberDecimalSeparator,numberGroupSeparator)/100)),parseCurrency($("input[id*='tbInitialPayment']").val(),numberDecimalSeparator,numberGroupSeparator)>parseCurrency(t,numberDecimalSeparator,numberGroupSeparator)?(eBankit.Presentation.InsertValidateMsg($("input[id*='tbInitialPayment']"),top.eBankit.Presentation.GetResource("InvalidInitialValue").concat(t)),n=!1):checkIfInRange(jsonObj.LoanInitialPaymentFixedMin,jsonObj.LoanInitialPaymentFixedMax,$("input[id*='tbInitialPayment']").val())?eBankit.Presentation.RemoveValidateMsg($("input[id*='tbInitialPayment']")):(eBankit.Presentation.InsertValidateMsg($("input[id*='tbInitialPayment']"),top.eBankit.Presentation.GetResource("InvalidRangeValue").concat(jsonObj.LoanInitialPaymentFixedMax).concat(top.eBankit.Presentation.GetResource("InvalidRangeValue2")).concat(jsonObj.LoanInitialPaymentFixedMin)),n=!1)),n};checkIfInRange=function(n,t,i){var r=!0;return(parseCurrency(n,numberDecimalSeparator,numberGroupSeparator)>parseCurrency(i,numberDecimalSeparator,numberGroupSeparator)||parseCurrency(i,numberDecimalSeparator,numberGroupSeparator)>parseCurrency(t,numberDecimalSeparator,numberGroupSeparator))&&(r=!1),r};