function ToogleArrowLeftDownIcon(n){var t=$("[id$="+n+"]");t.hasClass("icon-transfers-up")?(t.removeClass("icon-transfers-up"),t.addClass("icon-transfers-down")):(t.removeClass("icon-transfers-down"),t.addClass("icon-transfers-up"))}function ToogleArrowLeftIcon(n){var t=$("[id$="+n+"]");t.hasClass("icon-transfers-down")&&(t.removeClass("icon-transfers-down"),t.addClass("icon-transfers-up"))}function ToogleArrowDownIcon(n){var t=$("[id$="+n+"]");t.hasClass("icon-transfers-up")&&(t.removeClass("icon-transfers-up"),t.addClass("icon-transfers-down"))}var toDate,prm;eBankit.Presentation.TRX00121={};toDate=function(n){var t=n.split("-");return new Date(t[2],t[1]-1,t[0])};eBankit.Presentation.TRX00121.ValidateIBAN=function(){var n=$("[id$=txtAccountDestIBAN_txField]");n.val()!=""&&(n.val(n.val().toUpperCase()),/^[A-Z]{2}[0-9]{2}[0-9]{21}/.test(n.val().replace(/ /g,""))?eBankit.Presentation.RemoveValidateMsg(n):eBankit.Presentation.InsertValidateMsg_V2(n,top.eBankit.Presentation.GetResource("txtAccountDestIBANInvalidFormat")))};eBankit.Presentation.TRX00121.ValidatePeriodicity=function(){var n=$("[id$=ddlPerioInterbank_dlField]"),t=!0;return n.find("option:selected").val()=="-1"?(eBankit.Presentation.InsertValidateMsg(n,top.eBankit.Presentation.GetResource("ddlPeriodErroMsg")),t=!1):eBankit.Presentation.RemoveValidateMsg(n),t};eBankit.Presentation.TRX00121.ValidateCustom=function(){var n=!0,i=$("[id$=txtEmailToNotify_txField]"),r=$("[id$=ddlCategory_dlField]"),t=$("[id$=txtAccountDestIBAN_txField]"),f=$("[id$=dtTransferDatePermInit_txField]"),e=$("[id$=dtTransferDatePermEnd_txField]");ddlContas2=$("[id$=ddlOwnAccounts_dlField]");var o=$("[id$=ddlGrpAccount]"),s=$("[id$=divPermanent]"),u=eBankit.Presentation.TRX00121.ValidateAmount();return u||(n=!1),/[-0-9a-zA-Z.+_]+@[-0-9a-zA-Z.+_]+\.[a-zA-Z]{2,4}/.test(i.val().replace(/ /g,""))||i.val()==""?eBankit.Presentation.RemoveValidateMsg(i):(eBankit.Presentation.InsertValidateMsg(i,top.eBankit.Presentation.GetResource("txtEmailInvalidFormat")),n=!1),hdnTransferType.val()==2&&t.val()!=""&&(t.val(t.val().toUpperCase()),/^[A-Z]{2}[0-9]{2}[0-9]{21}/.test(t.val().replace(/ /g,""))?eBankit.Presentation.RemoveValidateMsg(t):(eBankit.Presentation.InsertValidateMsg(t,top.eBankit.Presentation.GetResource("txtAccountDestIBANInvalidFormat")),n=!1)),collapseEbankitNIB.hasClass("in")&&hdnUrgent.val()=="0"&&(r.find("option:selected").val()=="-1"?(eBankit.Presentation.InsertValidateMsg(r,top.eBankit.Presentation.GetResource("ddlCategoryErroMsg")),n=!1):eBankit.Presentation.RemoveValidateMsg(r)),$(".field-own .selectbox").each(function(){collapseEbankitAccount.hasClass("in")&&$(this).siblings("select").eq(0).val()=="-1"?(eBankit.Presentation.InsertValidateMsg($(this),top.eBankit.Presentation.GetResource("ddlContasErroMsg")),n=!1):eBankit.Presentation.RemoveValidateMsg($(this))}),collapseEbankitAccount.hasClass("in")&&ddlContas2.val()=="-1"?(eBankit.Presentation.InsertValidateMsg(ddlContas2,top.eBankit.Presentation.GetResource("ddlContasErroMsg")),n=!1):eBankit.Presentation.RemoveValidateMsg(ddlContas2),userSource.val()=="7"&&(collapseEbankitAccount.hasClass("in")&&$(".multiselectbox")[0].selectedIndex=="-1"?(eBankit.Presentation.InsertValidateMsg($("#expandButton"),top.eBankit.Presentation.GetResource("ddlContasErroMsg")),n=!1):eBankit.Presentation.RemoveValidateMsg($("#expandButton"))),hdnTransferType.val()==""&&(itcore_ui.ShowTopPopupWarning(top.eBankit.Presentation.GetResource("DestinAccountMessage"),top.eBankit.Presentation.GetResource("DestinAccountTitle"),""),n=!1),n};eBankit.Presentation.TRX00121.ValidateAmount=function(){var n=!0,t=$("[id$=txtAmount_txField]"),i=parseFormattedNumber(t.val());return eBankit.Presentation.RemoveValidateMsg(t),i==0?(n=!1,eBankit.Presentation.InsertValidateMsg_V2(t,top.eBankit.Presentation.GetResource("mintxtAmountPayment")),$("[id$=lblNetInterestReceivable_lblRightIn]").text("")):i==null&&(n=!1),n};$(document).ready(function(){var n,t;eBankit.Presentation.TRX00121.TooglePanels();eBankit.Presentation.TRX00121.AccountBlur();n=$('[id*="_ddlOwnAccounts_"]').siblings("input.selectbox");n.attr("role","combobox");$('[id*="_ddlOwnAccounts_"]').find("li").each(function(){$(this).attr("aria-live","assertive");$(this).attr("role","listitem")});$('[id*="_ddlOwnAccounts_"]').find("ul").each(function(){$(this).attr("role","list");$(this).attr("id","ulAccountslist");$(this).attr("aria-label","teste")});t=$('[id*="_ddlOwnAccounts_"]').children("ul").attr("id");n.attr("aria-controls",t);$("img").each(function(){$(this).attr("alt")===undefined&&$(this).attr("alt","")})});eBankit.Presentation.TRX00121.TooglePanels=function(){$("img").each(function(){$(this).attr("alt")===undefined&&$(this).attr("alt","")});collapseEbankitNIB=$("[id$=collapseEbankitNIB]");collapseEbankitAccount=$("[id$=collapseEbankitAccount]");collapseEbankitMyAcc=$("[id$=collapseEbankitMyAcc]");collapseEbankitNIB.on("show.bs.collapse",function(){collapseEbankitAccount.hasClass("in")&&(collapseEbankitAccount.removeClass("in"),collapseEbankitAccount.addClass("collapse"),ToogleArrowDownIcon("collapseEbankitAccountIcon"));collapseEbankitMyAcc.hasClass("in")&&(collapseEbankitMyAcc.removeClass("in"),collapseEbankitMyAcc.addClass("collapse"),ToogleArrowDownIcon("collapseEbankitMyAccount"));ToogleArrowLeftIcon("collapseEbankitNIBIcon")});collapseEbankitNIB.on("hide.bs.collapse",function(){ToogleArrowDownIcon("collapseEbankitNIBIcon")});collapseEbankitAccount.on("show.bs.collapse",function(){collapseEbankitNIB.hasClass("in")&&(collapseEbankitNIB.removeClass("in"),collapseEbankitNIB.addClass("collapse"),ToogleArrowDownIcon("collapseEbankitNIBIcon"));collapseEbankitMyAcc.hasClass("in")&&(collapseEbankitMyAcc.removeClass("in"),collapseEbankitMyAcc.addClass("collapse"),ToogleArrowDownIcon("collapseEbankitMyAccount"));ToogleArrowLeftIcon("collapseEbankitAccountIcon")});collapseEbankitAccount.on("hide.bs.collapse",function(){ToogleArrowDownIcon("collapseEbankitAccountIcon")});collapseEbankitMyAcc.on("show.bs.collapse",function(){collapseEbankitNIB.hasClass("in")&&(collapseEbankitNIB.removeClass("in"),collapseEbankitNIB.addClass("collapse"),ToogleArrowDownIcon("collapseEbankitNIBIcon"));collapseEbankitAccount.hasClass("in")&&(collapseEbankitAccount.removeClass("in"),collapseEbankitAccount.addClass("collapse"),ToogleArrowDownIcon("collapseEbankitAccountIcon"));ToogleArrowLeftIcon("collapseEbankitMyAccount")});collapseEbankitMyAcc.on("hide.bs.collapse",function(){ToogleArrowDownIcon("collapseEbankitMyAccount")})};eBankit.Presentation.TRX00121.AccountBlur=function(){if(ddlContas2=$("[id$=ddlOwnAccounts]"),ddlCorpContas=$("[id$=divGroupOwnAccount]"),ddlContas2val=$("[id$=ddlOwnAccounts_dlField]"),hdnAccountRetDrop=$("[id$=hdnAccountRetDrop]"),hdnAccountRetDropName=$("[id$=hdnAccountRetDropName]"),ddlContas2val.val()=="-1"&&hdnAccountRetDrop.val()!==""){var n=$("#"+ddlContas2val.attr("id")+"_input"),t=$("#"+ddlContas2val.attr("id")+"_input_"+hdnAccountRetDrop.val());ddlContas2val.val(hdnAccountRetDrop.val());n.val(hdnAccountRetDropName.val()+" "+hdnAccountRetDrop.val());t.addClass("selected-option");hdnAccountRetDrop.val("");hdnAccountRetDropName.val("")}else eBankit.Presentation.RemoveValidateMsg(ddlContas2)};eBankit.Presentation.TRX00121.SetAccountType=function(n,t){var f=$("[id$=collapseEbankitNIBIcon]"),e=$("[id$=collapseEbankitAccountIcon]"),o=$("[id$=collapseEbankitMyAccount]"),i=$("[id$=collapseEbankitNIB]"),r=$("[id$=collapseEbankitAccount]"),u=$("[id$=collapseEbankitMyAcc]"),s;divUrgent=$("[id$=divUrgent]");divDescriptionIntrabank=$("[id$=divDescriptionIntrabank]");divDescriptionInterbank=$("[id$=divDescriptionInterbank]");divMotive=$("[id$=divMotive]");hdnTransferType=$("[id$=hdnTransferType]");s=$("#"+n.id);s.is(":disabled")==!1&&(t!=2||i.hasClass("in")?t!=3||r.hasClass("in")?t!=1||u.hasClass("in")?(r.hasClass("in")&&(e.removeClass("icon-transfers-up"),e.addClass("icon-transfers-down"),r.focus()),i.hasClass("in")&&(f.removeClass("icon-transfers-up"),f.addClass("icon-transfers-down"),i.focus()),u.hasClass("in")&&(o.removeClass("icon-transfers-up"),o.addClass("icon-transfers-down"),u.focus()),hdnTransferType.val("")):(hdnTransferType.val(t),divUrgent.hide(),divDescriptionIntrabank.show(),divDescriptionInterbank.hide(),divMotive.hide(),$("input[id*='frlTypeAcc_tb']").first().focus()):(hdnTransferType.val(t),divUrgent.hide(),divDescriptionIntrabank.show(),divDescriptionInterbank.hide(),divMotive.hide(),$("input[id*='ddlOwnAccounts_dlField']").focus()):(hdnTransferType.val(t),hdnUrgent.val()=="0"?divUrgent.show():divUrgent.hide(),divDescriptionIntrabank.hide(),divDescriptionInterbank.show(),divMotive.show(),$("input[id*='txtAccountDestIBAN_txField']").focus()));$(".btnRefreshLimitValidation").click()};eBankit.Presentation.TRX00121.ToogleTranferType=function(n,t){var i=$("#"+n),r=$("#"+t);i.show();r.hide()};prm=Sys.WebForms.PageRequestManager.getInstance();prm.add_endRequest(function(){eBankit.Presentation.TRX00121.EndRequest()});eBankit.Presentation.TRX00121.EndRequest=function(){eBankit.Presentation.TRX00121.AccountBlur();hdnTransferType=$("[id$=hdnTransferType]");var n=hdnTransferType.val();collapseEbankitNIB=$("[id$=collapseEbankitNIB]");collapseEbankitAccount=$("[id$=collapseEbankitAccount]");collapseEbankitMyAcc=$("[id$=collapseEbankitMyAcc]");divUrgent=$("[id$=divUrgent]");divDescriptionIntrabank=$("[id$=divDescriptionIntrabank]");divDescriptionInterbank=$("[id$=divDescriptionInterbank]");divMotive=$("[id$=divMotive]");eBankit.Presentation.TRX00121.TooglePanels();n=="2"?(hdnUrgent.val()=="0"?divUrgent.show():divUrgent.hide(),divDescriptionIntrabank.hide(),divDescriptionInterbank.show(),divMotive.show(),$("input[id*='txtAccountDestIBAN_txField']").focus()):n=="3"?(divUrgent.hide(),divDescriptionIntrabank.show(),divDescriptionInterbank.hide(),divMotive.hide(),$("input[id*='ddlOwnAccounts_dlField']").focus()):n=="1"&&(divUrgent.hide(),divDescriptionIntrabank.show(),divDescriptionInterbank.hide(),divMotive.hide(),$("input[id*='frlTypeAcc_tb']").first().focus())};