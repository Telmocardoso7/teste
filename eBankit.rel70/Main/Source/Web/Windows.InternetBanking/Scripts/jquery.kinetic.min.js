/*!
    jQuery.kinetic v1.8.2
    Dave Taylor http://the-taylors.org/jquery.kinetic
    The MIT License (MIT)
    Copyright (c) <2011> <Dave Taylor http://the-taylors.org>
*/
(function(n){"use strict";var c={cursor:"move",decelerate:!0,triggerHardware:!1,y:!0,x:!0,slowdown:.9,maxvelocity:40,throttleFPS:60,movingClass:{up:"kinetic-moving-up",down:"kinetic-moving-down",left:"kinetic-moving-left",right:"kinetic-moving-right"},deceleratingClass:{up:"kinetic-decelerating-up",down:"kinetic-decelerating-down",left:"kinetic-decelerating-left",right:"kinetic-decelerating-right"}},t="kinetic-settings",i="kinetic-active";window.requestAnimationFrame||(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(n){window.setTimeout(n,1e3/60)}}());n.support=n.support||{};n.extend(n.support,{touch:"ontouchend"in document});var u=function(){return!1},f=function(n,t){return Math.floor(Math.abs(n))===0?0:n*t},e=function(n,t){var i=n;return n>0?n>t&&(i=t):n<0-t&&(i=0-t),i},o=function(n,t){this.removeClass(n.movingClass.up).removeClass(n.movingClass.down).removeClass(n.movingClass.left).removeClass(n.movingClass.right).removeClass(n.deceleratingClass.up).removeClass(n.deceleratingClass.down).removeClass(n.deceleratingClass.left).removeClass(n.deceleratingClass.right);n.velocity>0&&this.addClass(t.right);n.velocity<0&&this.addClass(t.left);n.velocityY>0&&this.addClass(t.down);n.velocityY<0&&this.addClass(t.up)},s=function(n,t){t.velocity=0;t.velocityY=0;t.decelerate=!0;typeof t.stopped=="function"&&t.stopped.call(n,t)},r=function(n,t){var i=n[0];t.x&&i.scrollWidth>0?(i.scrollLeft=t.scrollLeft=i.scrollLeft+t.velocity,Math.abs(t.velocity)>0&&(t.velocity=t.decelerate?f(t.velocity,t.slowdown):t.velocity)):t.velocity=0;t.y&&i.scrollHeight>0?(i.scrollTop=t.scrollTop=i.scrollTop+t.velocityY,Math.abs(t.velocityY)>0&&(t.velocityY=t.decelerate?f(t.velocityY,t.slowdown):t.velocityY)):t.velocityY=0;o.call(n,t,t.deceleratingClass);typeof t.moved=="function"&&t.moved.call(n,t);Math.abs(t.velocity)>0||Math.abs(t.velocityY)>0?window.requestAnimationFrame(function(){r(n,t)}):s(n,t)},l=function(i){var r=n.kinetic.callMethods[i],u=Array.prototype.slice.call(arguments);r&&this.each(function(){var i=u.slice(1),f=n(this).data(t);i.unshift(f);r.apply(this,i)})},h=function(t,i){var r=t[0];n.support.touch?t.bind("touchstart",i.events.touchStart).bind("touchend",i.events.inputEnd).bind("touchmove",i.events.touchMove):t.mousedown(i.events.inputDown).mouseup(i.events.inputEnd).mousemove(i.events.inputMove);t.click(i.events.inputClick).scroll(i.events.scroll).bind("selectstart",u).bind("dragstart",i.events.dragStart)},a=function(t,i){var r=t[0];n.support.touch?t.unbind("touchstart",i.events.touchStart).unbind("touchend",i.events.inputEnd).unbind("touchmove",i.events.touchMove):t.unbind("mousedown",i.events.inputDown).unbind("mouseup",i.events.inputEnd).unbind("mousemove",i.events.inputMove).unbind("scroll",i.events.scroll);t.unbind("click",i.events.inputClick).unbind("selectstart",u);t.unbind("dragstart",i.events.dragStart)},v=function(u){this.addClass(i).each(function(){var tt=this,f=n(this),b;if(!f.data(t)){var i=n.extend({},c,u),s,y=!1,l,p=!1,a=!1,it=1e3/i.throttleFPS,w,v;i.velocity=0;i.velocityY=0;b=function(){s=!1;l=!1;a=!1};n(document).mouseup(b).click(b);var k=function(){i.velocity=e(y-s,i.maxvelocity);i.velocityY=e(p-l,i.maxvelocity)},d=function(t){return n.isFunction(i.filterTarget)?i.filterTarget.call(tt,t)!==!1:!0},g=function(n,t){a=!0;i.velocity=y=0;i.velocityY=p=0;s=n;l=t},rt=function(){s&&y&&i.decelerate===!1&&(i.decelerate=!0,k(),s=y=a=!1,r(f,i))},nt=function(t,r){(!w||new Date>new Date(w.getTime()+it))&&(w=new Date,a&&(s||l)&&(v&&(n(v).blur(),v=null,f.focus()),i.decelerate=!1,i.velocity=i.velocityY=0,f[0].scrollLeft=i.scrollLeft=i.x?f[0].scrollLeft-(t-s):f[0].scrollLeft,f[0].scrollTop=i.scrollTop=i.y?f[0].scrollTop-(r-l):f[0].scrollTop,y=s,p=l,s=t,l=r,k(),o.call(f,i,i.movingClass),typeof i.moved=="function"&&i.moved.call(f,i)))};i.events={touchStart:function(n){var t;d(n.target)&&(t=n.originalEvent.touches[0],g(t.clientX,t.clientY),n.stopPropagation())},touchMove:function(n){var t;a&&(t=n.originalEvent.touches[0],nt(t.clientX,t.clientY),n.preventDefault&&n.preventDefault())},inputDown:function(n){d(n.target)&&(g(n.clientX,n.clientY),v=n.target,n.target.nodeName==="IMG"&&n.preventDefault(),n.stopPropagation())},inputEnd:function(n){rt();v=null;n.preventDefault&&n.preventDefault()},inputMove:function(n){a&&(nt(n.clientX,n.clientY),n.preventDefault&&n.preventDefault())},scroll:function(n){typeof i.moved=="function"&&i.moved.call(f,i);n.preventDefault&&n.preventDefault()},inputClick:function(n){if(Math.abs(i.velocity)>0)return n.preventDefault(),!1},dragStart:function(){if(v)return!1}};h(f,i);f.data(t,i).css("cursor",i.cursor);i.triggerHardware&&f.css({"-webkit-transform":"translate3d(0,0,0)","-webkit-perspective":"1000","-webkit-backface-visibility":"hidden"})}})};n.kinetic={settingsKey:t,callMethods:{start:function(t,i){var u=n(this);t=n.extend(t,i);t&&(t.decelerate=!1,r(u,t))},end:function(t){var i=n(this);t&&(t.decelerate=!0)},stop:function(t){var i=n(this);s(i,t)},detach:function(t){var r=n(this);a(r,t);r.removeClass(i).css("cursor","")},attach:function(t){var r=n(this);h(r,t);r.addClass(i).css("cursor","move")}}};n.fn.kinetic=function(n){return typeof n=="string"?l.apply(this,arguments):v.call(this,n),this}})(window.jQuery||window.Zepto);