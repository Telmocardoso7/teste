jQuery.fn.extend({selectbox:function(n){return this.each(function(){new jQuery.SelectBox(this,n)})}});jQuery.fn.extend({selectbox_v2:function(n){return this.each(function(){new jQuery.SelectBox_v2(this,n)})}});jQuery.SelectBox=function(n,t){function o(){c=0;r.hide()}function a(){r.append(b(u.attr("id"))).hide()}function v(n){var t=document.createElement("div");return r=$(t),r.attr("id",h+"_container"),r.addClass(n.containerClass),r}function y(n){var r=document.createElement("input"),t=$(r),i;return t.attr("id",h+"_input"),t.attr("type","text"),t.addClass(n.inputClass),t.attr("autocomplete","off"),i=$("label[for='"+h+"']").attr("id"),i.length>0?t.attr("aria-labelledby",i):t.attr("aria-label",f.attr("aria-label")),t.attr("readonly","readonly"),t.attr("tabIndex",f.attr("tabindex")),t}function s(n){var t=$("li",r);t&&(e+=n,e<0?e=0:e>=t.length&&(e=t.length-1),t.removeClass(i.hoverClass),$(t[e]).addClass(i.hoverClass),$(t[e]).children("a").focus())}function p(){var o=$("li."+i.currentClass,r).get(0),n=$(".selected-option .acc").text(),t=$(".selected-option .numb").text(),e=(""+o.id).split("_"),s=e[e.length-1];return f.val(s),f.trigger("change"),u.val(n.substring(0,n.length-t.length)+" - "+t),!0}function w(){var n=$("li."+i.currentClass,r).get(0),e=$("#"+n.id+" span:first").html().replace(/(<.*?>)/ig,";"),t=(""+n.id).split("_"),o=t[t.length-1];return f.val(o),u.val(e.split(";")[0]),!0}function b(n){var t=document.createElement("ul");return f.children("option").each(function(f){var e=$(this),s;f==0&&e.is(":selected")?u.val(e.text()):e.attr("acl")!=undefined?(s=document.createElement("li"),s.setAttribute("id",n+"_"+e.val()),s.innerHTML='<a tabindex="-1" href="#"><span class="acl">'+e.attr("acl")+'<\/span><span class="sl">'+e.attr("sl")+'<span class="numb">'+e.attr("aux1")+"<\/span><\/span><\/a>",e.is(":selected")&&(u.val(e.attr("acc")),$(s).addClass(i.currentClass)),t.appendChild(s)):e.attr("acc")!=undefined&&(s=document.createElement("li"),s.setAttribute("id",n+"_"+e.val()),s.innerHTML='<a tabindex="-1"  href="#"><span class="acc">'+e.attr("acc")+'<span class="numb">'+e.attr("acn")+'<\/span><\/span><span class="sd">'+e.attr("sd")+"<\/span><\/a>",e.is(":selected")&&(e.attr("acn")!=undefined?u.val(e.attr("acc")+" - â€Ž"+e.attr("acn")):u.val($elem.attr("acc")),$(s).addClass(i.currentClass)),t.appendChild(s));$(s).mouseover(function(){c=1;i.debug&&console.log("over on : "+this.id)}).mouseout(function(){c=-1;i.debug&&console.log("out on : "+this.id)}).click(function(){var n=$("li."+i.hoverClass,r).get(0);i.debug&&console.log("click on :"+this.id);$("li."+i.currentClass).removeClass(i.currentClass);$(this).addClass(i.currentClass);i.auxiliar1==""?p():i.auxiliar1!=""&&w();o()})}),t}var i;t=jQuery.extend({disponivel:"Disponivel",autorizado:"Autorizado",auxiliar1:""},t);i=t||{};i.inputClass=i.inputClass||"selectbox";i.containerClass=i.containerClass||"selectbox-wrapper";i.hoverClass=i.hoverClass||"current";i.currentClass=i.selectedClass||"selected-option";i.debug=i.debug||!1;var h=n.id,e=-1,l=!1,c=0,f=$(n),r=v(i),u=y(i);f.hide().before(u).before(r);a();u.click(function(){l||r.toggle()}).focus(function(){r.not(":visible")&&(l=!0,r.show())}).keydown(function(n){switch(n.keyCode){case 38:n.preventDefault();s(-1);break;case 40:n.preventDefault();s(1);break;case 13:n.preventDefault();$("li."+i.hoverClass).trigger("click");break;case 9:o()}}).blur(function(){});$("li",r).children("a").keydown(function(n){switch(n.keyCode){case 38:n.preventDefault();s(-1);break;case 40:n.preventDefault();s(1);break;case 13:n.preventDefault();$("li."+i.hoverClass).trigger("click");break;case 9:o()}});$(document).on("click",function(n){r.closest(".centerField-wrapper")[0].contains(n.target)||o()})};jQuery.SelectBox_v2=function(n,t){function o(){h=0;r.hide()}function a(){r.append(b(u.attr("id"))).hide();$("li",r).children("a").keydown(function(n){switch(n.keyCode){case 38:n.preventDefault();s(-1);break;case 40:n.preventDefault();s(1);break;case 13:n.preventDefault();$("li."+i.hoverClass).trigger("click");break;case 9:o()}})}function v(n){var t=document.createElement("div");return r=$(t),r.attr("id",c+"_container"),r.addClass(n.containerClass),r}function y(n){var i=document.createElement("input"),t=$(i);return t.attr("id",c+"_input"),t.attr("type","text"),t.addClass(n.inputClass),t.attr("autocomplete","off"),t.attr("readonly","readonly"),t.attr("tabIndex",e.attr("tabindex")),t}function s(n){var t=$("li",r);t&&(f+=n,f<0?f=0:f>=t.length&&(f=t.length-1),t.removeClass(i.hoverClass),$(t[f]).addClass(i.hoverClass),$(t[f]).children("a").focus())}function p(){var f=$("li."+i.currentClass,r).get(0),o=$(".selected-option span:first").html().replace(/(<.*?>)/ig,";"),n=(""+f.id).split("_"),t=n[n.length-1];return e.val(t),e.trigger("change"),u.val(t),!0}function w(){var n=$("li."+i.currentClass,r).get(0),f=$("#"+n.id+" span:first").html().replace(/(<.*?>)/ig,";"),t=(""+n.id).split("_"),o=t[t.length-1];return e.val(o),u.val(f.split(";")[0]),!0}function b(n){var t=document.createElement("ul");return e.children("option").each(function(){var f;$(this).attr("acl")!=undefined?(f=document.createElement("li"),f.setAttribute("id",n+"_"+$(this).val()),f.innerHTML='<a tabindex="-1" href="#"><span class="acl">'+elem.attr("acl")+'<\/span><span class="sl">'+elem.attr("sl")+'<span class="numb">'+elem.attr("aux1")+"<\/span><\/span><\/a>",$(this).is(":selected")&&(u.val($(this).attr("acc")),$(f).addClass(i.currentClass)),t.appendChild(f)):$(this).attr("acc")!=undefined&&(f=document.createElement("li"),f.setAttribute("id",n+"_"+$(this).val()),f.innerHTML='<a tabindex="-1"  href="#"><span class="acc">'+$(this).attr("acc")+"<\/span><\/a>",$(this).is(":selected")&&(u.val($(this).attr("acc")),$(f).addClass(i.currentClass)),t.appendChild(f));$(f).mouseover(function(){h=1;i.debug&&console.log("over on : "+this.id)}).mouseout(function(){h=-1;i.debug&&console.log("out on : "+this.id)}).click(function(){var n=$("li."+i.hoverClass,r).get(0);i.debug&&console.log("click on :"+this.id);$("li."+i.currentClass).removeClass(i.currentClass);$(this).addClass(i.currentClass);i.auxiliar1==""?p():i.auxiliar1!=""&&w();o()})}),t}var i;t=jQuery.extend({disponivel:"asha",autorizado:"asfj",auxiliar1:""},t);i=t||{};i.inputClass=i.inputClass||"selectbox_v2";i.containerClass=i.containerClass||"selectbox-wrapper selectbox-wrapper_v2";i.hoverClass=i.hoverClass||"current";i.currentClass=i.selectedClass||"selected-option";i.debug=i.debug||!1;var c=n.id,f=-1,l=!1,h=0,e=$(n),r=v(i),u=y(i);e.hide().before(u).before(r);a();u.click(function(){l||r.toggle()}).focus(function(){r.not(":visible")&&(l=!0,r.show())}).keydown(function(n){switch(n.keyCode){case 38:n.preventDefault();s(-1);break;case 40:n.preventDefault();s(1);break;case 13:n.preventDefault();$("li."+i.hoverClass).trigger("click");break;case 9:o()}}).blur(function(){});$(document).on("click",function(n){r.closest(".centerField-wrapper")[0].contains(n.target)||o()})};