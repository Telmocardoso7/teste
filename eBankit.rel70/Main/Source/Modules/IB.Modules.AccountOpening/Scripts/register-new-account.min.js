function isPhone(n){n=n.replace(/\s/g,"");return/^([+])+(([0-9]{8,18}))+$/.test(n)}function isEmail(n){return/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(n)}function AddRequiredFieldValidator(n){var t=!0;return n.is("input")&&n.val()==""?(eBankit.Presentation.InsertValidateMsg(n,top.eBankit.Presentation.GetResource("RequiredField")),t=!1):n.is("select")&&$("option:selected",n).val()==""?(eBankit.Presentation.InsertValidateMsg(n,top.eBankit.Presentation.GetResource("RequiredField")),t=!1):n.val()!=""&&(eBankit.Presentation.RemoveValidateMsg(n),n.popover("hide")),t}function IsValidNIF(){return!0}function IsDocumentNrValid(n){var r=!0,t=$("select[id*=ddlDocumentType");if(t.length){var u=$("input[id*=DateExpiredDocument"),i=new Date,f=eBankit.Presentation.RegisterAccount.toDateWithFormat(u.val(),dateJSFormat),e=eBankit.Presentation.RegisterAccount.toDate(i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate());if(f!=""&&f<e?(eBankit.Presentation.InsertValidateMsg(dtIDValidate,top.eBankit.Presentation.GetResource("dtIDDateErroMsg")),r=!1):eBankit.Presentation.RemoveValidateMsg(u),$("option:selected",t).val()=="BI"||$("option:selected",t).val()=="CRE",$("option:selected",t).val()=="CD",$("option:selected",t).val()=="PA")return/^[0-9]{9}[vVxX]$/.test(n)?!1:!0}return r}eBankit.Presentation.RegisterAccount={};var txtPhone=$("input[id*='txtPhone']"),txtPhoneAlternative=$("input[id*='txtPhoneAlternative']"),hdnMinAgeOfHolder=$("[id*='hdnMinAgeOfHolder']");eBankit.Presentation.RegisterAccount.ValidateRegister=function(){var n=!0,u,r,t;if($("strong.req").parent().parent().next(".centerField-wrapper.req").children().children().each(function(){AddRequiredFieldValidator($(this))||(n=!1)}),hdnMinAgeOfHolder.val()!=""&&$("[id*='dtDateBirth_0']").length)if(u=$("input[id*='dtDateBirth_0']"),$("input[id*='dtDateBirth_0']").val()=="")eBankit.Presentation.InsertValidateMsg($("input[id*='dtDateBirth_0']"),top.eBankit.Presentation.GetResource("RequiredField")),n=!1;else{eBankit.Presentation.RemoveValidateMsg($("input[id*='dtDateBirth_0']"));var f=$("input[id*='dtDateBirth_0']").val(),e=eBankit.Presentation.RegisterAccount.toDateWithFormat(f,dateJSFormat),o=new Date,i=new Date;i.setFullYear(o.getFullYear()-hdnMinAgeOfHolder.val());e>i?(eBankit.Presentation.InsertValidateMsg($("input[id*='dtDateBirth_0']"),top.eBankit.Presentation.GetResource("InvalidDateTimeMsgMinAgeHolder").replace("{0}",hdnMinAgeOfHolder.val())),n=!1):eBankit.Presentation.RemoveValidateMsg($("input[id*='dtDateBirth_0']"))}return $("input[id*='dtDateBirth_1'], input[id*='dtDateBirth_2'], input[id*='dtDateBirth_3'], input[id*='dtEmmisionDocument']").each(function(){var t=$(this);if(t.val()=="")eBankit.Presentation.InsertValidateMsg(t,top.eBankit.Presentation.GetResource("RequiredField")),n=!1;else{eBankit.Presentation.RemoveValidateMsg(t);var i=$(this).val(),r=eBankit.Presentation.RegisterAccount.toDateWithFormat(i,dateJSFormat),u=new Date;r>u?(eBankit.Presentation.InsertValidateMsg(t,top.eBankit.Presentation.GetResource("InvalidDateTimeMsg")),n=!1):eBankit.Presentation.RemoveValidateMsg(t)}}),$("input[id*='DateExpiredDocument']").each(function(){var t=$(this);if(t.val()=="")eBankit.Presentation.InsertValidateMsg(t,top.eBankit.Presentation.GetResource("RequiredField")),n=!1;else{eBankit.Presentation.RemoveValidateMsg(t);var i=$(this).val(),r=eBankit.Presentation.RegisterAccount.toDateWithFormat(i,dateJSFormat),u=new Date;r<u?(eBankit.Presentation.InsertValidateMsg(t,top.eBankit.Presentation.GetResource("InvalidDateTimeMsg")),n=!1):eBankit.Presentation.RemoveValidateMsg(t)}}),$("[id*='txtNifNumber']").length&&!IsValidNIF($("[id*='txtNifNumber']").val())&&(eBankit.Presentation.InsertValidateMsg(txtTaxID,top.eBankit.Presentation.GetResource("InvalidNIF")),n=!1),$("input[id*='txtPhone']").length&&$("input[id*='txtPhone']").val()!=""&&!isPhone($("input[id*='txtPhone']").val())&&(eBankit.Presentation.InsertValidateMsg($("input[id*='txtPhone']"),top.eBankit.Presentation.GetResource("InvalidPhone")),n=!1),$("input[id*='txtEmail']").length&&!isEmail($("input[id*='txtEmail']").val())&&(eBankit.Presentation.InsertValidateMsg($("input[id*='txtEmail']"),top.eBankit.Presentation.GetResource("InvalidEmail")),n=!1),r=$("[id*='hdnSelectedHolderOption']"),r.length&&$("[id*='hdnSelectedHolderOption']").val()=="1"&&(AddRequiredFieldValidator($("[id*='numberOfHolders']"))||(n=!1),parseInt($("[id*='numberOfHolders']").val())>4&&(eBankit.Presentation.InsertValidateMsg($("[id*='numberOfHolders']"),top.eBankit.Presentation.GetResource("MaxHoldersExceeded")),n=!1)),n==!1&&(t=!1,$("div[id*='entityData']").each(function(){if($(this).css("display")=="block"&&$(this).find(".has-error").length==0&&!t)return t=!0,!1}),t&&$("[id*='entityData']").each(function(){if($(this).css("display")=="none"&&$(this).find(".has-error").length){var n=$(this).attr("id"),t=n.substr(n.length-1),i=$("[id*='tabCollateralizedDetail_"+t+"']");return SelectTab(i,t),!1}})),n};eBankit.Presentation.RegisterAccount.toDateWithFormat=function(n,t){return new Date(eBankit.dateJS.getDateFromFormat(n,t))};eBankit.Presentation.RegisterAccount.toDate=function(n){var t=n.split("-");return new Date(t[2],t[1]-1,t[0])};eBankit.Presentation.RegisterAccount.HideElement=function(n){$("."+n).each(function(){$(this).hide()})};eBankit.Presentation.RegisterAccount.ShowElement=function(n){$("."+n).each(function(){$(this).show()})};eBankit.Presentation.RegisterAccount.ToogleGender=function(n,t){var i=$("#"+t);i.val(n)};eBankit.Presentation.RegisterAccount.Toogle=function(n,t){var i=$("#"+t);i.val(n)};eBankit.Presentation.RegisterAccount.SetVisibility=function(n,t){$("."+t).each(function(){$(this).css("visibility",n)})};eBankit.Presentation.RegisterAccount.CheckRadioList=function(n){$("#"+n+" input[value=Y]").prop("checked",!0);$("#"+n+" input[value=N]").prop("checked",!1)};eBankit.Presentation.RegisterAccount.UnCheckRadioList=function(n){$("#"+n+" input[value=Y]").prop("checked",!1);$("#"+n+" input[value=N]").prop("checked",!0)};eBankit.Presentation.RegisterAccount.SetInitPhoneNumber=function(n){$("input[id*='txtPhone']").val()||$("input[id*='txtPhone']").val(n+" ")};eBankit.Presentation.RegisterAccount.SetInitPhoneAlternativeNumber=function(n){$("input[id*='txtPhoneAlternative']").val()||$("input[id*='txtPhoneAlternative']").val(n+" ")};eBankit.Presentation.RegisterAccount.InsertMask=function(n,t){$("#"+n).mask(t)};loadPhoneInputs=function(n){eBankit.Presentation.RegisterAccount.SetInitPhoneNumber(n);eBankit.Presentation.RegisterAccount.SetInitPhoneAlternativeNumber(n)};setDefaulValue=function(n,t){if(hdnMinAgeOfHolder.val()!=""&&t.length){var i=new Date,r=new Date;i.setFullYear(r.getFullYear()-hdnMinAgeOfHolder.val());t.datepicker("setValue",i);n&&t.val("")}};setDefaulValueAll=function(){if(hdnMinAgeOfHolder.val()!=""&&$("input[id*='dtDateBirth']").length){var n=new Date,t=new Date;n.setFullYear(t.getFullYear()-hdnMinAgeOfHolder.val());$("input[id*='dtDateBirth']").datepicker("setValue",n);$("input[id*='dtDateBirth']").val("")}};loadSlider=function(){var n=$("[id*='txtAmount']"),t=$("[id*='txtAmount']").val(),i=parseFloat("0,00"),r=parseFloat("9999,99");CreateSlider(n,"#sliderProvisingAmount",t,i,r,1)};CreateSlider=function(n,t,i,r,u,f){$(t).slider({range:"min",value:i,min:r,max:u,step:f,slide:function(t,i){n.val(i.value+"€")},create:function(){n.val(i+"€")}});n.focus(function(){});n.keypress(function(n){var t=n.which?n.which:n.keyCode;return!(t!=46&&t>31&&(t<48||t>57))});n.change(function(){n.val().replace("€","")<$(t).slider("option","min")&&($(t).slider({value:$(t).slider("option","min")}),n.val($(t).slider("option","min")+"€"));n.val().replace("€","")<=$(t).slider("option","max")?$(t).slider({value:n.val().replace("€","")}):($(t).slider({value:$(t).slider("option","max")}),n.val($(t).slider("option","max")+"€"))})};SelectDepositTypeByElement=function(n){$(".chosenNrHolders").each(function(){$(this).removeClass("chosenNrHolders");$(this).text("")});$(n).addClass("chosenNrHolders");$(n).html("&#10003");$("[id*='hdnDepositType']").val($(n).attr("data-value"))};SelectDepositTypeByValue=function(n){var t=$(".tickChosen[data-value='"+n+"']");$(".chosenNrHolders").each(function(){$(this).removeClass("chosenNrHolders");$(this).text("")});$(t).addClass("chosenNrHolders");$(t).html("&#10003")};AddAmount=function(){var n=parseInt($("[id*='txtAmount']").val().replace("€",""))+1;$("[id*='txtAmount']").val(n+"€")};RemoveAmount=function(){var n=parseInt($("[id*='txtAmount']").val().replace("€",""))-1;$("[id*='txtAmount']").val(n+"€")};PrepareInvalidControls=function(){var n;$("input[type=text].has-error").keypress(function(){eBankit.Presentation.RemoveValidateMsg($(this))});n="select.has-error";$(n).change(function(){eBankit.Presentation.RemoveValidateMsg($(this))})};OnlinePassCheck=function(){var t=$("input[id*='txtPassword']"),n=$("input[id*='txtPasswordConfirm']");return(eBankit.Presentation.RemoveValidateMsg(t),eBankit.Presentation.RemoveValidateMsg(n),t.val()=="")?(eBankit.Presentation.InsertValidateMsg(t,top.eBankit.Presentation.GetResource("RequiredField")),n.val()==""&&eBankit.Presentation.InsertValidateMsg(n,top.eBankit.Presentation.GetResource("RequiredField")),!1):n.val()==""?(eBankit.Presentation.InsertValidateMsg(n,top.eBankit.Presentation.GetResource("RequiredField")),!1):t.val().length!=7||n.val().length!=7?(eBankit.Presentation.InsertValidateMsg(t.val().length!=7?t:n,top.eBankit.Presentation.GetResource("InvalidLengthMsg")),!1):t.val()!=n.val()?(eBankit.Presentation.InsertValidateMsg(n,top.eBankit.Presentation.GetResource("NoMatchPasswordsMsg")),!1):!0};